var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)};!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@angular/compiler"),require("@angular/core"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define(["exports","@angular/compiler","@angular/core","@angular/platform-browser"],factory):factory((global.ng=global.ng||{},global.ng.platformBrowserDynamic=global.ng.platformBrowserDynamic||{}),global.ng.compiler,global.ng.core,global.ng.platformBrowser)}(this,function(exports,_angular_compiler,_angular_core,_angular_platformBrowser){"use strict";function isPresent(obj){return void 0!==obj&&null!==obj}function bootstrapWorkerUi(workerScriptUri,customProviders){return void 0===customProviders&&(customProviders=[]),Promise.resolve(_angular_platformBrowser.platformWorkerUi([{provide:_angular_platformBrowser.WORKER_SCRIPT,useValue:workerScriptUri}].concat(customProviders)))}var globalScope,INTERNAL_BROWSER_PLATFORM_PROVIDERS=_angular_platformBrowser.__platform_browser_private__.INTERNAL_BROWSER_PLATFORM_PROVIDERS;globalScope="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var global$1=globalScope;global$1.assert=function(condition){};var XHRImpl=function(_super){function XHRImpl(){_super.apply(this,arguments)}return __extends(XHRImpl,_super),XHRImpl.prototype.get=function(url){var resolve,reject,promise=new Promise(function(res,rej){resolve=res,reject=rej}),xhr=new XMLHttpRequest;return xhr.open("GET",url,!0),xhr.responseType="text",xhr.onload=function(){var response=isPresent(xhr.response)?xhr.response:xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:0),200<=status&&status<=300?resolve(response):reject("Failed to load "+url)},xhr.onerror=function(){reject("Failed to load "+url)},xhr.send(),promise},XHRImpl}(_angular_compiler.XHR);XHRImpl.decorators=[{type:_angular_core.Injectable}];var INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS=[INTERNAL_BROWSER_PLATFORM_PROVIDERS,{provide:_angular_core.COMPILER_OPTIONS,useValue:{providers:[{provide:_angular_compiler.XHR,useClass:XHRImpl}]},multi:!0}],CachedXHR=function(_super){function CachedXHR(){if(_super.call(this),this._cache=global$1.$templateCache,null==this._cache)throw new _angular_core.BaseException("CachedXHR: Template cache was not found in $templateCache.")}return __extends(CachedXHR,_super),CachedXHR.prototype.get=function(url){return this._cache.hasOwnProperty(url)?Promise.resolve(this._cache[url]):Promise.reject("CachedXHR: Did not find cached template for "+url)},CachedXHR}(_angular_compiler.XHR),CACHED_TEMPLATE_PROVIDER=[{provide:_angular_compiler.XHR,useClass:CachedXHR}],platformBrowserDynamic=_angular_core.createPlatformFactory(_angular_compiler.platformCoreDynamic,"browserDynamic",INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS),platformWorkerAppDynamic=_angular_core.createPlatformFactory(_angular_compiler.platformCoreDynamic,"workerAppDynamic",[{provide:_angular_core.COMPILER_OPTIONS,useValue:{providers:[{provide:_angular_compiler.XHR,useClass:XHRImpl}]},multi:!0}]);exports.CACHED_TEMPLATE_PROVIDER=CACHED_TEMPLATE_PROVIDER,exports.platformBrowserDynamic=platformBrowserDynamic,exports.bootstrapWorkerUi=bootstrapWorkerUi,exports.platformWorkerAppDynamic=platformWorkerAppDynamic});