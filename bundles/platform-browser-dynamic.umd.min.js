var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)};!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@angular/common"),require("@angular/compiler"),require("@angular/core"),require("@angular/platform-browser"),require("rxjs/Subject"),require("rxjs/observable/PromiseObservable"),require("rxjs/operator/toPromise"),require("rxjs/Observable")):"function"==typeof define&&define.amd?define(["exports","@angular/common","@angular/compiler","@angular/core","@angular/platform-browser","rxjs/Subject","rxjs/observable/PromiseObservable","rxjs/operator/toPromise","rxjs/Observable"],factory):factory((global.ng=global.ng||{},global.ng.platformBrowserDynamic=global.ng.platformBrowserDynamic||{}),global.ng.common,global.ng.compiler,global.ng.core,global.ng.platformBrowser,global.Rx,global.Rx,global.Rx.Observable.prototype,global.Rx)}(this,function(exports,_angular_common,_angular_compiler,_angular_core,_angular_platformBrowser,rxjs_Subject,rxjs_observable_PromiseObservable,rxjs_operator_toPromise,rxjs_Observable){"use strict";function isPresent(obj){return void 0!==obj&&null!==obj}function isBlank(obj){return void 0===obj||null===obj}function isArray(obj){return Array.isArray(obj)}function _flattenArray(source,target){if(isPresent(source))for(var i=0;i<source.length;i++){var item=source[i];isArray(item)?_flattenArray(item,target):target.push(item)}return target}function _initGlobals(){_angular_core.lockRunMode(),initDomAdapter(),reflector.reflectionCapabilities=new ReflectionCapabilities}function browserCompiler(_a){var _b=void 0===_a?{}:_a,useDebug=_b.useDebug,_c=_b.useJit,useJit=void 0===_c||_c,_d=_b.providers,providers=void 0===_d?[]:_d;_initGlobals(),void 0===useDebug&&(useDebug=_angular_core.isDevMode());var injector=_angular_core.ReflectiveInjector.resolveAndCreate([_angular_compiler.COMPILER_PROVIDERS,{provide:_angular_compiler.CompilerConfig,useValue:new _angular_compiler.CompilerConfig({genDebugInfo:useDebug,useJit:useJit})},{provide:_angular_compiler.XHR,useClass:XHRImpl},providers?providers:[]]);return injector.get(_angular_core.Compiler)}function bootstrapModule(moduleType,compiler){return void 0===compiler&&(compiler=browserCompiler()),compiler.compileAppModuleAsync(moduleType).then(_angular_platformBrowser.bootstrapModuleFactory)}function bootstrap(appComponentType,customProvidersOrDynamicModule){_initGlobals();var compiler,compilerProviders=[],providers=[],directives=[],pipes=[],modules=[],precompile=[];if(customProvidersOrDynamicModule instanceof Array?providers=customProvidersOrDynamicModule:customProvidersOrDynamicModule&&(providers=normalizeArray(customProvidersOrDynamicModule.providers),directives=normalizeArray(customProvidersOrDynamicModule.directives),pipes=normalizeArray(customProvidersOrDynamicModule.pipes),modules=normalizeArray(customProvidersOrDynamicModule.modules),precompile=normalizeArray(customProvidersOrDynamicModule.precompile),compiler=customProvidersOrDynamicModule.compiler),providers&&providers.length>0){var inj=_angular_core.ReflectiveInjector.resolveAndCreate(providers),compilerConfig=inj.get(_angular_compiler.CompilerConfig,null);compilerConfig?(directives=directives.concat(compilerConfig.platformDirectives),pipes=pipes.concat(compilerConfig.platformPipes)):(directives=directives.concat(inj.get(_angular_core.PLATFORM_DIRECTIVES,[])),pipes=pipes.concat(inj.get(_angular_core.PLATFORM_PIPES,[])));var xhr=inj.get(_angular_compiler.XHR,null);xhr&&compilerProviders.push([{provide:_angular_compiler.XHR,useValue:xhr}])}compiler||(compiler=browserCompiler({providers:compilerProviders}));var DynamicModule=function(){function DynamicModule(appRef){this.appRef=appRef}return DynamicModule}();return DynamicModule.decorators=[{type:_angular_core.AppModule,args:[{providers:providers,modules:modules.concat([_angular_platformBrowser.BrowserModule]),directives:directives,pipes:pipes,precompile:precompile.concat([appComponentType])}]}],DynamicModule.ctorParameters=[{type:_angular_core.ApplicationRef}],bootstrapModule(DynamicModule,compiler).then(function(moduleRef){return moduleRef.instance.appRef.waitForAsyncInitializers().then(function(){return moduleRef.instance.appRef.bootstrap(appComponentType)})})}function bootstrapWorkerUi(workerScriptUri,customProviders){var app=_angular_core.ReflectiveInjector.resolveAndCreate([_angular_platformBrowser.WORKER_UI_APPLICATION_PROVIDERS,BROWSER_APP_COMPILER_PROVIDERS,{provide:_angular_platformBrowser.WORKER_SCRIPT,useValue:workerScriptUri},isPresent(customProviders)?customProviders:[]],_angular_platformBrowser.workerUiPlatform().injector);return PromiseWrapper.resolve(app.get(_angular_core.ApplicationRef))}function bootstrapWorkerApp(appComponentType,customProviders){var appInjector=_angular_core.ReflectiveInjector.resolveAndCreate([_angular_platformBrowser.WORKER_APP_APPLICATION_PROVIDERS,WORKER_APP_COMPILER_PROVIDERS,isPresent(customProviders)?customProviders:[]],_angular_platformBrowser.workerAppPlatform().injector);return _angular_core.coreLoadAndBootstrap(appComponentType,appInjector)}function normalizeArray(arr){return arr?arr:[]}var globalScope,ReflectionCapabilities=_angular_core.__core_private__.ReflectionCapabilities,reflector=_angular_core.__core_private__.reflector,initDomAdapter=_angular_platformBrowser.__platform_browser_private__.initDomAdapter;globalScope="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var global$1=globalScope;global$1.assert=function(condition){};var PromiseCompleter=function(){function PromiseCompleter(){var _this=this;this.promise=new Promise(function(res,rej){_this.resolve=res,_this.reject=rej})}return PromiseCompleter}(),PromiseWrapper=function(){function PromiseWrapper(){}return PromiseWrapper.resolve=function(obj){return Promise.resolve(obj)},PromiseWrapper.reject=function(obj,_){return Promise.reject(obj)},PromiseWrapper.catchError=function(promise,onError){return promise.catch(onError)},PromiseWrapper.all=function(promises){return 0==promises.length?Promise.resolve([]):Promise.all(promises)},PromiseWrapper.then=function(promise,success,rejection){return promise.then(success,rejection)},PromiseWrapper.wrap=function(computation){return new Promise(function(res,rej){try{res(computation())}catch(e){rej(e)}})},PromiseWrapper.scheduleMicrotask=function(computation){PromiseWrapper.then(PromiseWrapper.resolve(null),computation,function(_){})},PromiseWrapper.completer=function(){return new PromiseCompleter},PromiseWrapper}(),Map$1=global$1.Map,Set=global$1.Set,ListWrapper=(function(){try{if(1===new Map$1([[1,2]]).size)return function(pairs){return new Map$1(pairs)}}catch(e){}return function(pairs){for(var map=new Map$1,i=0;i<pairs.length;i++){var pair=pairs[i];map.set(pair[0],pair[1])}return map}}(),function(){try{if(new Map$1(new Map$1))return function(m){return new Map$1(m)}}catch(e){}return function(m){var map=new Map$1;return m.forEach(function(v,k){map.set(k,v)}),map}}(),function(){return(new Map$1).keys().next?function(m){for(var k,keyIterator=m.keys();!(k=keyIterator.next()).done;)m.set(k.value,null)}:function(m){m.forEach(function(v,k){m.set(k,null)})}}(),function(){try{if((new Map$1).values().next)return function(m,getValues){return getValues?Array.from(m.values()):Array.from(m.keys())}}catch(e){}return function(m,getValues){var res=ListWrapper.createFixedSize(m.size),i=0;return m.forEach(function(v,k){res[i]=getValues?v:k,i++}),res}}(),function(){function ListWrapper(){}return ListWrapper.createFixedSize=function(size){return new Array(size)},ListWrapper.createGrowableSize=function(size){return new Array(size)},ListWrapper.clone=function(array){return array.slice(0)},ListWrapper.forEachWithIndex=function(array,fn){for(var i=0;i<array.length;i++)fn(array[i],i)},ListWrapper.first=function(array){return array?array[0]:null},ListWrapper.last=function(array){return array&&0!=array.length?array[array.length-1]:null},ListWrapper.indexOf=function(array,value,startIndex){return void 0===startIndex&&(startIndex=0),array.indexOf(value,startIndex)},ListWrapper.contains=function(list,el){return list.indexOf(el)!==-1},ListWrapper.reversed=function(array){var a=ListWrapper.clone(array);return a.reverse()},ListWrapper.concat=function(a,b){return a.concat(b)},ListWrapper.insert=function(list,index,value){list.splice(index,0,value)},ListWrapper.removeAt=function(list,index){var res=list[index];return list.splice(index,1),res},ListWrapper.removeAll=function(list,items){for(var i=0;i<items.length;++i){var index=list.indexOf(items[i]);list.splice(index,1)}},ListWrapper.remove=function(list,el){var index=list.indexOf(el);return index>-1&&(list.splice(index,1),!0)},ListWrapper.clear=function(list){list.length=0},ListWrapper.isEmpty=function(list){return 0==list.length},ListWrapper.fill=function(list,value,start,end){void 0===start&&(start=0),void 0===end&&(end=null),list.fill(value,start,null===end?list.length:end)},ListWrapper.equals=function(a,b){if(a.length!=b.length)return!1;for(var i=0;i<a.length;++i)if(a[i]!==b[i])return!1;return!0},ListWrapper.slice=function(l,from,to){return void 0===from&&(from=0),void 0===to&&(to=null),l.slice(from,null===to?void 0:to)},ListWrapper.splice=function(l,from,length){return l.splice(from,length)},ListWrapper.sort=function(l,compareFn){isPresent(compareFn)?l.sort(compareFn):l.sort()},ListWrapper.toString=function(l){return l.toString()},ListWrapper.toJSON=function(l){return JSON.stringify(l)},ListWrapper.maximum=function(list,predicate){if(0==list.length)return null;for(var solution=null,maxValue=-(1/0),index=0;index<list.length;index++){var candidate=list[index];if(!isBlank(candidate)){var candidateValue=predicate(candidate);candidateValue>maxValue&&(solution=candidate,maxValue=candidateValue)}}return solution},ListWrapper.flatten=function(list){var target=[];return _flattenArray(list,target),target},ListWrapper.addAll=function(list,source){for(var i=0;i<source.length;i++)list.push(source[i])},ListWrapper}()),BaseException=(function(){var test=new Set([1,2,3]);return 3===test.size?function(lst){return new Set(lst)}:function(lst){var res=new Set(lst);if(res.size!==lst.length)for(var i=0;i<lst.length;i++)res.add(lst[i]);return res}}(),function(_super){function BaseException(message){void 0===message&&(message="--"),_super.call(this,message),this.message=message,this.stack=new Error(message).stack}return __extends(BaseException,_super),BaseException.prototype.toString=function(){return this.message},BaseException}(Error)),CachedXHR=function(_super){function CachedXHR(){if(_super.call(this),this._cache=global$1.$templateCache,null==this._cache)throw new BaseException("CachedXHR: Template cache was not found in $templateCache.")}return __extends(CachedXHR,_super),CachedXHR.prototype.get=function(url){return this._cache.hasOwnProperty(url)?PromiseWrapper.resolve(this._cache[url]):PromiseWrapper.reject("CachedXHR: Did not find cached template for "+url,null)},CachedXHR}(_angular_compiler.XHR),XHRImpl=function(_super){function XHRImpl(){_super.apply(this,arguments)}return __extends(XHRImpl,_super),XHRImpl.prototype.get=function(url){var completer=PromiseWrapper.completer(),xhr=new XMLHttpRequest;return xhr.open("GET",url,!0),xhr.responseType="text",xhr.onload=function(){var response=isPresent(xhr.response)?xhr.response:xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:0),200<=status&&status<=300?completer.resolve(response):completer.reject("Failed to load "+url,null)},xhr.onerror=function(){completer.reject("Failed to load "+url,null)},xhr.send(),completer.promise},XHRImpl}(_angular_compiler.XHR),BROWSER_APP_COMPILER_PROVIDERS=[_angular_compiler.COMPILER_PROVIDERS,{provide:_angular_compiler.CompilerConfig,useFactory:function(platformDirectives,platformPipes){return new _angular_compiler.CompilerConfig({platformDirectives:platformDirectives,platformPipes:platformPipes})},deps:[_angular_core.PLATFORM_DIRECTIVES,_angular_core.PLATFORM_PIPES]},{provide:_angular_compiler.XHR,useClass:XHRImpl},{provide:_angular_core.PLATFORM_DIRECTIVES,useValue:_angular_common.COMMON_DIRECTIVES,multi:!0},{provide:_angular_core.PLATFORM_PIPES,useValue:_angular_common.COMMON_PIPES,multi:!0}],CACHED_TEMPLATE_PROVIDER=[{provide:_angular_compiler.XHR,useClass:CachedXHR}],WORKER_APP_COMPILER_PROVIDERS=[_angular_compiler.COMPILER_PROVIDERS,{provide:_angular_compiler.CompilerConfig,useFactory:function(platformDirectives,platformPipes){return new _angular_compiler.CompilerConfig({platformDirectives:platformDirectives,platformPipes:platformPipes})},deps:[_angular_core.PLATFORM_DIRECTIVES,_angular_core.PLATFORM_PIPES]},{provide:_angular_compiler.XHR,useClass:XHRImpl},{provide:_angular_core.PLATFORM_DIRECTIVES,useValue:_angular_common.COMMON_DIRECTIVES,multi:!0},{provide:_angular_core.PLATFORM_PIPES,useValue:_angular_common.COMMON_PIPES,multi:!0}];exports.BROWSER_APP_COMPILER_PROVIDERS=BROWSER_APP_COMPILER_PROVIDERS,exports.CACHED_TEMPLATE_PROVIDER=CACHED_TEMPLATE_PROVIDER,exports.browserCompiler=browserCompiler,exports.bootstrapModule=bootstrapModule,exports.bootstrap=bootstrap,exports.bootstrapWorkerUi=bootstrapWorkerUi,exports.bootstrapWorkerApp=bootstrapWorkerApp});